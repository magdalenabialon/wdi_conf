<!DOCTYPE html>
<html>

  <head>
    <title>Wdi Conf 2016</title>
    <%= csrf_meta_tags %>

    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>

    <script src="https://cdn.auth0.com/js/lock/10.0/lock.min.js"></script>
  </head>

  <body>

  
    <div class="wrapper">

      <%= yield %>

    </div>

    <script>

    // Keeps nav buttons height and width in ratio

    var width = $('.nav-item').width();
    $('.nav-item').css({ 'height' : width + 'px' });


    // Nav mouseover and mouseout handlers

    var nav = $('nav');

    nav.hover(function(event) {

      nav.animate({ width : "250px" });
      nav.find('p').delay(400).fadeIn(800);

    }, function(event) {

      nav.animate({ width : "70px" });
      nav.find('p').fadeOut(1000).css({ 'display' : 'none' });

    });

    //Auto Scroll

    nav.on('click', function(event) {


      var $clickedPos = $(event.target)
      var buttonID = $clickedPos.closest('.nav-item').get(0).id

      if ( buttonID === "booking" ) {

      } else {
        $('html, body').animate({
          scrollTop: $( "." + buttonID ).offset().top
        }, 1000);
      }



    });

    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>

    <!-- auth0 scripts-->
    <script src="https://cdn.auth0.com/js/lock/10.0/lock.min.js"></script>

    <script type="text/javascript">

      var lock = new Auth0Lock("<%=Rails.application.secrets.auth_o_clientid%>", 'maggiemccain.au.auth0.com', {
        auth: {
          redirectUrl: 'http://localhost:3000/auth/auth0/callback',
          responseType: 'code',
          params: {
            scope: 'openid email'
          }
        }
      });
    </script>

    <script>

    // Scroll magic Indicators (Can't touch this, da nah nah na)

    // var controller = new ScrollMagic.Controller({addIndicators: true});
    // new ScrollMagic.Scene().addTo(controller);

    </script>

  </body>

</html>
